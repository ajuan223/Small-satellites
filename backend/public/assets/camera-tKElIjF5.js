import{d as N,r as m,c as i,o as a,a as s,u as n,b as r,w as c,v as f,i as d,F as g,e as _,g as v,f as x,h as $}from"./index-B844Iof6.js";function p(b,e){let l=parseInt(b);return isNaN(l)&&(l=e||0),l.toString()}const B={id:"cmain"},S=["src"],V={key:1,style:{"background-color":"#b1ccc5"},class:"image"},j={id:"smain"},E={class:"sbbox"},F={class:"sbox"},P={class:"sbox"},U={id:"pmain"},A={class:"pbbox"},D=["src","alt"],L=N({__name:"camera",props:{msg:{}},setup(b){let e=m("0"),l=m("0"),u=null;function y(){if(u!==null){console.log("捕获已在运行中。");return}u=setInterval(()=>{r.value&&v.value.unshift(r.value)},1e3),alert("start")}function k(){u!==null&&(clearInterval(u),u=null,console.log("捕获已停止。")),alert("stop")}function C(){v.value=[],alert("clear")}function I(){x.send(`1 ${e.value};`)}function w(){x.send(`2 ${l.value};`)}return(M,t)=>(a(),i(g,null,[s("div",B,[t[4]||(t[4]=s("h1",null,"ESP32 Camera + Servo Control",-1)),t[5]||(t[5]=s("hr",null,null,-1)),n(r)?(a(),i("img",{key:0,src:`data:image/jpg;base64,${n(r)}`,class:"image"},null,8,S)):(a(),i("div",V)),s("div",{class:"bigbox mt-100"},[s("div",{class:"cbox"},[s("input",{type:"button",class:"button",value:"start",onClick:y}),s("input",{type:"button",class:"button",value:"stop",onClick:k}),s("input",{type:"button",class:"button",value:"clear",onClick:C})])])]),t[10]||(t[10]=s("hr",null,null,-1)),s("div",j,[t[8]||(t[8]=s("h2",null,"servo control",-1)),s("div",E,[s("div",F,[t[6]||(t[6]=s("div",{class:"tbox"},"servo1",-1)),c(s("input",{type:"text",class:"text-input","onUpdate:modelValue":t[0]||(t[0]=o=>d(e)?e.value=o:e=o),onInput:t[1]||(t[1]=o=>d(e)?e.value=n(p)(n(e),0):e=n(p)(n(e),0)),style:{width:"50px"}},null,544),[[f,n(e)]]),s("input",{type:"button",class:"button",value:"set",onClick:I,style:{"padding-left":"5px"}})]),s("div",P,[t[7]||(t[7]=s("div",{class:"tbox"},"servo2",-1)),c(s("input",{type:"text",class:"text-input","onUpdate:modelValue":t[2]||(t[2]=o=>d(l)?l.value=o:l=o),onInput:t[3]||(t[3]=o=>{d(l)?l.value=n(p)(n(l),0):l=n(p)(n(l),0),console.log(n(l))}),style:{width:"50px"}},null,544),[[f,n(l)]]),s("input",{type:"button",class:"button",value:"set",onClick:w,style:{"padding-left":"5px"}})])])]),t[11]||(t[11]=s("hr",null,null,-1)),s("div",U,[t[9]||(t[9]=s("h2",null,"图库",-1)),s("div",A,[(a(!0),i(g,null,_(n(v),o=>(a(),i("img",{src:`data:image/jpg;base64,${o}`,alt:o},null,8,D))),256))])])],64))}});$(L).mount("#app");
